webpackJsonp([2],{tylS:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),a("eqfM");var t=a("/QYm"),o=a("R/2u"),n=a("cgj9"),i=a("VAqh"),r=a("7+uW"),l=a("Q4pw");r.default.use(t.a);var c={name:"mobile_login",data:function(){return{acount:"",phone:"",password:"",showPwd:!1,newuser:0,area:86,index:0,acountActive:!1,pwdActive:!1,publickey:"",url:"",passwordshow:!0,locale:"CN"}},created:function(){this.url=window.location.href,this.$route.params.area&&(this.area=this.$route.params.area,this.index=this.$route.params.index,this.locale=this.$route.params.locale),this.$route.params.phone&&(this.phone=this.$route.params.phone,this.showPwd=!0)},mounted:function(){null!=sessionStorage.getItem("user_info")&&""!=sessionStorage.getItem("user_info")&&null!=sessionStorage.getItem("user_key")&&""!=sessionStorage.getItem("user_key")&&this.$router.push("/home")},methods:{showPassword:function(){this.passwordshow=!this.passwordshow},handleBack:function(){this.showPwd?this.showPwd=!1:l.a.webIndexBack()},handleSelect:function(){this.$router.push({name:"area",params:{index:this.index}})},handleNext:function(){var e=this;if(!/^1[3456789]\d{9}$/.test(this.phone)&&"86"==this.area)return Object(t.a)(this.$t("login.mobileError")),!1;if(this.phone){var s=n.a.login,a={step:"check",mobile:this.phone,locale:this.locale};o.a.post(s,a,function(s){var a=s.code,o=s.data;1==a?"login"==o.login_type?(e.$store.dispatch("SAVELOGININFO",{isNew:!1,phoneNum:e.phone,area:e.area,locale:e.locale}),e.showPwd=!0):"register"==o.login_type&&(e.$store.dispatch("SAVELOGININFO",{isNew:!0,phoneNum:e.phone,area:e.area,locale:e.locale}),e.$router.push("/changepwd")):Object(t.a)(s.msg)})}},handleLogin:function(){if(this.password){this.area;var e=this.phone,s=this.password,a=(this.publickey,{step:"login",mobile:e,password:s,locale:this.locale});i.a.funcLogin(a)}},handleFindPwd:function(){this.$router.push({name:"changepwd",params:{phone:this.phone}})},handleFocus:function(e){1===e&&(this.acountActive=!0),2===e&&(this.pwdActive=!0)},handleBlur:function(e){1===e&&(this.acountActive=!1),2===e&&(this.pwdActive=!1)},getKey:function(){var e=this;o.a.post(n.a.getPublicKey,{},function(s){var a=s.code,o=s.key,n=s.info;0===a?e.publickey=o:t.a.file(n)}).catch(function(e){throw e})}}},d={render:function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"login"},[a("div",{staticClass:"back",on:{click:e.handleBack}},[a("span")]),e._v(" "),e.showPwd?e._e():[a("div",{staticClass:"account-container"},[a("div",{staticClass:"phone-name"},[e._v(e._s(this.$t("login.title")))]),e._v(" "),a("div",{class:["phone-input",e.acountActive?"active":""]},[a("div",{staticClass:"phone-area",on:{click:e.handleSelect}},[a("span",[e._v("+"+e._s(e.area))]),e._v(" "),a("span",{staticClass:"icon-areaarrows"})]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",placeholder:this.$t("login.mobilePlaceHolder")},domProps:{value:e.phone},on:{blur:function(s){return e.handleBlur(1)},focus:function(s){return e.handleFocus(1)},input:function(s){s.target.composing||(e.phone=s.target.value)}}})]),e._v(" "),a("div",{class:["disableNext",e.phone?"next":""],on:{click:e.handleNext}},[e._v("\n        "+e._s(this.$t("login.next"))+"\n      ")])])],e._v(" "),e.showPwd?[a("div",{staticClass:"password-container"},[a("div",{staticClass:"pwd-name"},[e._v(e._s(this.$t("login.password")))]),e._v(" "),a("div",{class:["pwd-input",e.pwdActive?"active":""]},["checkbox"==(e.passwordshow?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:this.$t("login.passwordPlaceHolder"),maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{blur:function(s){return e.handleBlur(2)},focus:function(s){return e.handleFocus(2)},change:function(s){var a=e.password,t=s.target,o=!!t.checked;if(Array.isArray(a)){var n=e._i(a,null);t.checked?n<0&&(e.password=a.concat([null])):n>-1&&(e.password=a.slice(0,n).concat(a.slice(n+1)))}else e.password=o}}}):"radio"==(e.passwordshow?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:this.$t("login.passwordPlaceHolder"),maxlength:"20",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{blur:function(s){return e.handleBlur(2)},focus:function(s){return e.handleFocus(2)},change:function(s){e.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:this.$t("login.passwordPlaceHolder"),maxlength:"20",type:e.passwordshow?"password":"text"},domProps:{value:e.password},on:{blur:function(s){return e.handleBlur(2)},focus:function(s){return e.handleFocus(2)},input:function(s){s.target.composing||(e.password=s.target.value)}}}),e._v(" "),a("span",{class:[e.passwordshow?"icon_pwdshow":"icon-pwd"],on:{click:function(s){return e.showPassword()}}})]),e._v(" "),a("div",{class:["disableNext",e.password.length>7?"next":""],on:{click:e.handleLogin}},[e._v("\n        "+e._s(this.$t("login.login"))+"\n      ")]),e._v(" "),a("div",{staticClass:"forget-pwd"},[a("span",[e._v(e._s(this.$t("login.forget")))]),e._v(" "),a("span",{on:{click:e.handleFindPwd}},[e._v(e._s(this.$t("login.findPassword")))])])])]:e._e()],2)},staticRenderFns:[]},h=a("VU/8")(c,d,!1,function(e){a("uSay")},"data-v-9a617d20",null);s.default=h.exports},uSay:function(e,s){}});